<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg.js"></script>
    <script type="text/javascript" src="../../lib/matrix.js"></script>
    <script type="text/javascript" src="../../lib/vector.js"></script>
    <script type="text/javascript" src="../../lib/plane.js"></script>
    <script type="text/javascript" src="../../src/ghparam.js"></script>
    <script type="text/javascript" src="../../src/ghcomp.js"></script>
    <script type="text/javascript" src="../../src/ghsvg.js"></script>
    <link rel="stylesheet" type="text/css" href="../../css/tutorials.css">
</head>
<body>
  <script>

    // Set Up the grasshopper3d.js parametric model
    var p1 = new GHPoint('P1', -300,0,0)
    var p4 = new GHPoint('P4', 200,0,0)
    var comp1 = new GHComp_Pts_Mid('P2',p1,p4)
    var comp2 = new GHComp_Pts_Mid('P3',comp1.midpoint,p4)
    var comp3 = new GHComp_Polyline('Polyline', [p1,comp1.midpoint,comp2.midpoint, p4])

    // Set Up the SVG Viewport
    var width = 1080;
    var height = 720;
    var paper = Snap(width,height);
    var g = paper.g();
    g.attr({id:"cartesian"});
    g.attr({transform:"translate("+width/2+","+height/2+") scale(1,-1)"});
    var box = paper.rect(-width/2, -height/2, width, height).attr({strokeWidth:"1px", stroke:"black", fill:"none"})
    g.add(box)

    var proj = Matrix.identity()

    // Set up the svg elements attached to the parametric model
    var polyline = new GHSvg_Polyline(paper, 'SVG Polyline',comp3.polyline).toGroup(g).addClass("line")
    var p1_svg = new GHSvg_Point(paper, 'SVG P1',p1, 20).toGroup(g).addClass("node")
    var p2_svg = new GHSvg_Point(paper, 'SVG P2',comp1.midpoint, 20).toGroup(g).addClass("node")
    var p3_svg = new GHSvg_Point(paper, 'SVG P3',comp2.midpoint, 5).toGroup(g).addClass("node")
    var p4_svg = new GHSvg_Point(paper, 'SVG P4',p4, 20).toGroup(g).addClass("node")

    var p0_svg = new GHSvg_Point(paper, 'SVG P0',p1, 50).toGroup(g).addClass("node").attr({id:"bob"})

  </script>
</body>
</html>
