<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ghcomp.js.html":{"id":"ghcomp.js.html","title":"Source: ghcomp.js","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Source: ghcomp.js // Lionel du Peloux - 2016 // Licence : MIT // parameters are objects that store datas // components are objects that acte on datas // Generic Parameter (base class) /** * Represents a GHComp. * @constructor * @param {string} title - The title of the book. * @param {string} author - The author of the book. */ class GHComp { constructor(id, name){ this.id = id // unique id = 0, ..., N this.name = name // component name this.isupdated = true // false if the value is waiting to be computed this.param_in = [] // register all input parameters this.param_out = [] // register all output parameters } } Object.defineProperties(GHComp.prototype, { 'register_in': { // resgister an input parameter and bind it to the component configurable: false, value: function(param) { this.param_in.push(param) param.register_comp(this) return param } }, 'register_out': { // resgister an output parameter no needs to bind configurable: false, value: function(param) { this.param_out.push(param) return param } }, 'refresh': { configurable: true, value: function() {return &quot;&quot;} // to be overrided in components }, 'spreadRefresh': { configurable: false, value: function() { // wait till all input parameters have been refreshed for (var i = 0; i &lt; this.param_in.length; i++) { if (this.param_in[i].isupdated == false) { console.log(&quot;------ NON &quot;); return} } // refresh should not be propagated more than once if (this.isupdated == true) { return } // otherwise, the component is ready to be refreshed this.refresh() this.isupdated = true console.log(&quot;Comp[&quot; + this.id + &quot;] : isupdated = &quot; + this.isupdated) for (var i = 0; i &lt; this.param_out.length; i++) { this.param_out[i].spreadRefresh() } } }, 'spreadStatut': { configurable: false, value: function() { // statut should not be propagated more than once if (this.isupdated == false) { return } // otherwise, the component is hit by a statut switch and must propagate the spreadStatut process this.isupdated = false console.log(&quot;Comp[&quot; + this.id + &quot;] : isupdated = &quot; + this.isupdated) for (var i = 0; i &lt; this.param_out.length; i++) { this.param_out[i].spreadStatut() } } } }) // Mid point from two GHPoints class GHComp_Pts_Mid extends GHComp { constructor(id, p1, p2){ super(id, &quot;Midpoint&quot;) // register input parameters this.p1 = this.register_in(p1) this.p2 = this.register_in(p2) // register output parameters this.pmid = this.register_out(new GHPoint(id, 0,0,0)) // trigger computation this.refresh() } } Object.defineProperties(GHComp_Pts_Mid.prototype, { 'midpoint': { get: function() { return this.pmid }, }, 'refresh': { value: function() { this.pmid._setData((this.p1.x + this.p2.x)/2, (this.p1.y + this.p2.y)/2, (this.p1.z + this.p2.z)/2) }, }, }) // Polyline from several GHPoints class GHComp_Polyline extends GHComp { constructor(id, points){ super(id, &quot;Polyline from Points&quot;) // register input parameters for (var i = 0; i &lt; points.length; i++) { this.register_in(points[i]) } // register output parameters var points_tmp = [] for (var i = 0; i &lt; points.length; i++) { points_tmp.push(new Vector(0,0,0))} this._polyline = this.register_out(new GHPolyline('id', points_tmp)) // trigger computation this.refresh() } } Object.defineProperties(GHComp_Polyline.prototype, { 'polyline': { get: function() { return this._polyline }, }, 'refresh': { value: function() { for (var i = 0; i &lt; this.param_in.length; i++) { var pt = this.param_in[i].getData() this._polyline.points[i].x = pt.x this._polyline.points[i].y = pt.y this._polyline.points[i].z = pt.z } // this.pmid._setData((this.p1.x + this.p2.x)/2, (this.p1.y + this.p2.y)/2, (this.p1.z + this.p2.z)/2) }, }, }) × Search results Close "},"ghparam.js.html":{"id":"ghparam.js.html","title":"Source: ghparam.js","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Source: ghparam.js // Lionel du Peloux - 2016 // Licence : MIT // parameters are objects that store datas // components are objects that acte on datas // Generic Parameter (base class) /** * Represents a book. * @constructor * @param {string} title - The title of the book. * @param {string} author - The author of the book. */ class GHParam { constructor(id, type){ this.id = id // unique id = 0, ..., N this.type = type // param type this.isupdated = true // false if the value is waiting to be computed this.comp_out = [] // register all dependents components this.svg_out = [] // register all dependents svgobj } } Object.defineProperties(GHParam.prototype, { 'register_comp': { // register an output parameter no needs to bind configurable: false, value: function(comp) { this.comp_out.push(comp) return comp } }, 'register_svg': { // register an svg parameter no needs to bind configurable: false, value: function(svg) { this.svg_out.push(svg) return svg } }, 'hasChanged': { // raise &quot;hasChanged&quot; event =&gt; compute new statuts and recompute solution value: function() {console.log(&quot;==== STATUT ==== &quot;); this.spreadStatut(); console.log(&quot;==== REFERSH ==== &quot;); this.spreadRefresh()} }, 'refresh': { value: function() {} }, 'spreadRefresh': { value: function() { this.refresh() this.isupdated = true console.log('Param[' + this.id + '] : isupdated = ' + this.isupdated) this.print() for (var i = 0; i &lt; this.comp_out.length; i++) { this.comp_out[i].spreadRefresh() } for (var i = 0; i &lt; this.svg_out.length; i++) { this.svg_out[i].spreadRefresh() } } }, 'spreadStatut': { value: function() { this.isupdated = false console.log('Param[' + this.id + '] : isupdated = ' + this.isupdated) for (var i = 0; i &lt; this.comp_out.length; i++) { this.comp_out[i].spreadStatut() } for (var i = 0; i &lt; this.svg_out.length; i++) { this.svg_out[i].spreadStatut() } } } }) // Value Parameter // Point Parameter class GHPoint extends GHParam { constructor(id, x, y, z) { super(id, 'Point') this.point = new Vector(x,y,z) } } Object.defineProperties(GHPoint.prototype, { '_x': { set: function(val) { this.point.x = val } }, 'x': { get: function() { return this.point.x }, set: function(val) { this.point.x = val this.hasChanged() } }, '_y': { set: function(val) { this.point.y = val } }, 'y': { get: function() { return this.point.y }, set: function(val) { this.point.y = val this.hasChanged() } }, '_z': { set: function(val) { this.point.z = val } }, 'z': { get: function() { return this.point.z }, set: function(val) { this.point.z = val this.hasChanged() } }, 'getData': { value: function() { return this.point } }, 'setData': { value: function(x,y,z) { this.point.x=x; this.point.y=y; this.point.z=z; this.hasChanged()} }, '_setData': { value: function(x,y,z) { this.point.x=x; this.point.y=y; this.point.z=z;} // set data but does not raise hasChanged event }, 'print': { value: function() { console.log(&quot;Point[&quot; + this.id + &quot;] : (&quot; + this.point.x + &quot;, &quot; + this.point.y + &quot;, &quot; + this.point.z + &quot;)&quot;) } } }) // Polyline Parameter (a Line is a Polyline with only 2 points) class GHPolyline extends GHParam { constructor(id, points) { super(id, 'Polyline') this.points = [] for (var i = 0; i &lt; points.length; i++) { this.points.push(new Vector(points[i].x, points[i].y, points[i].z)) } } } Object.defineProperties(GHPolyline.prototype, { 'count': { get: function() { return this.points.length } }, 'length': { get: function() { var l=0 for (var i = 1; i &lt; this.points.length; i++) { l += this.points[i].subtract(this.points[i]).length } } }, 'getData': { value: function() { return this.points } }, 'setData': { value: function(points) { this.points = [] for (var i = 0; i &lt; points.length; i++) { this.points.push(new Vector(points[i].x, points[i].y, points[i].z)) } this.hasChanged() } }, '_setData': { value: function(points) { this.points = [] for (var i = 0; i &lt; points.length; i++) { this.points.push(new Vector(points[i].x, points[i].y, points[i].z)) } } }, 'print': { value: function() { console.log(&quot;Polyline[&quot; + this.count + &quot;]&quot;) for (var i = 0; i &lt; this.points.length; i++) { var point = this.points[i] console.log(&quot;Point[&quot; + i + &quot;] : (&quot; + point.x + &quot;, &quot; + point.y + &quot;, &quot; + point.z + &quot;)&quot;) } } } }) × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Classes Classes GHComp GHParam × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Tutorials Classes GHComp GHParam × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point grasshopper3d.jsThis library written in javascript makes easier the production of geometric drawings to explain scientific concepts. It is deeply inspired from grasshopper3d and offers the same ability to construct parametric geometric models. ToDo [ ] implement a global viewport projection matrix (3D =&gt; 2D) [ ] implement a GHSolution = {GHParma + GHComp} with global ids [ ] implement a GHViewport = {GHSvg} [ ] implement : circle and arc GHParam [ ] implement : bezier curve GHParam [ ] investigate arrowhead and usage Main functionalities parametric modeling : your drawings are adaptable, ready to be printed in various configurations, and ready to be animated in the browser SVG output : your drawings are vectoriel, ready for the web, in an open standard CSS : share a single css style sheet for your drawings to ensure coherence through all your drawings LaTeX labels : with MathJax type your labels in LaTeX format animation ready : animate your drawings with GSAP interactive ready: your drawings are ready to deal with user interactions (mouse hover / clic / drag&amp;drop ...) Dependenciesgrasshopper3d.js relies on several simple but clever libraries that I found on github. They are listed here for credits : Snpa.Svg : snap is the core lib for manipulating svg elements in javascript. lightgl.js : I use Vector.js for internal representation of points and vectors and Matrix.js for internal representation of matrix. This library is helpful to set up rotation and projection matrix to draw 3D geometries on the XY plane. bezier.js : A nodejs and client-side library for (cubic) Bezier curve work. [interpolation.js] : An adaptation of my own of this gist catmullFitter.js for interpolating a polyline with cubic bezier curves DocumentationBuild the docThe API documentation is autogenerated from the comments in the code using jsdoc3. To build the docs install execute the following bash command from the repo's root : $ gruntPublish the docThe api doc is published through github-pages. Follow instructions here to push the sources on the master branch and the api subfolder on the gh-pages branch ResourcesTutorialsAvailable examples: Simple rotating cube Multitexturing First person camera Scene manipulation OpenGL immediate mode Rendering to a texture Shadow map from a point light Realtime raytracing Constructive solid geometry GPU lightmap generation × Search results Close "},"GHComp.html":{"id":"GHComp.html","title":"Class: GHComp","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Class: GHComp GHComp Represents a GHComp. new GHComp(title, author) Parameters: Name Type Description title string The title of the book. author string The author of the book. Source: ghcomp.js, line 14 × Search results Close "},"GHParam.html":{"id":"GHParam.html","title":"Class: GHParam","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Class: GHParam GHParam Represents a book. new GHParam(title, author) Parameters: Name Type Description title string The title of the book. author string The author of the book. Source: ghparam.js, line 14 × Search results Close "},"tutorial-cube3d.html":{"id":"tutorial-cube3d.html","title":"Tutorial: 3D Cube ","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point 3D Cube CODEThis is a draggable point. // Set Up the grasshopper3d.js parametric model var a = 100 var vertices = [ new Vector(-a, -a, -a), // Front-Bottom-Left new Vector( a, -a, -a), // Front-Bottom-Right new Vector(-a, -a, a), // Rear-Bottom-Left new Vector( a, -a, a), // Rear-Bottom-Right new Vector(-a, a, -a), // Front-Top-Left new Vector( a, a, -a), // Front-Top-Right new Vector(-a, a, a), // Rear-Top-Left new Vector( a, a, a) // Rear-Top-Right ]; var faces = [ [vertices[0], vertices[1], vertices[5], vertices[4]], // Front [vertices[2], vertices[3], vertices[7], vertices[6]], // Rear [vertices[0], vertices[1], vertices[3], vertices[2]], // Bottom [vertices[4], vertices[5], vertices[7], vertices[6]], // Top [vertices[0], vertices[2], vertices[6], vertices[4]], // Left [vertices[1], vertices[3], vertices[7], vertices[5]] // Right ]; var ghpolylines = [] for (var i = 0; i &lt; faces.length; ++i) { faces[i].push(faces[i][0]) ghpolylines.push(new GHPolyline('F['+i+']', faces[i])) } var ghpts = [] for (var i = 0; i &lt; vertices.length; ++i) { ghpts.push(new GHPoint('F['+i+']', vertices[i].x, vertices[i].y, vertices[i].z)) } // Set Up the SVG Viewport var width = 1080; var height = 720; var paper = Snap(width,height); paper.attr({style:'display:block; margin:auto'}) Snap('#example').append(paper) // create a master group to switch to cartesian coordinates var g = paper.g(); g.attr({id:'cartesian'}); g.attr({transform:'translate('+width/2+','+height/2+') scale(1,-1)'}); // draw svg border box as a rectangle var box = paper.rect(-width/2, -height/2, width, height) .attr({strokeWidth:'1px', stroke:'black', fill:'none'}) g.add(box) // set up the projection Viewport var angle = 30 * 3.14/180 var a = Math.cos(angle); var b = Math.sin(angle); var proj = new Matrix([ a , 0, a, 0, -b, 1, b, 0, 0 , 0, 0, 0, 0 , 0, 0, 0, ]); // Set up the svg elements attached to the parametric model var svgfaces = [] for (var i = 0; i &lt; faces.length; ++i) { svgfaces.push(new GHSvg_Polyline(paper, 'SVG Polyline',ghpolylines[i]).toGroup(g).addClass('cube')) } var svgpts = [] for (var i = 0; i &lt; vertices.length; ++i) { svgpts.push(new GHSvg_Point(paper, 'SVG Point',ghpts[i]).toGroup(g).addClass('node')) } × Search results Close "},"tutorial-draggable_point.html":{"id":"tutorial-draggable_point.html","title":"Tutorial: Draggable Point","body":" grasshopper3d.js Classes GHCompGHParam Tutorials 3D Cube Draggable Point Draggable Point CODEThis is a draggable point. // Define the paper sheet var width = 250; var height = 125; var paper = Snap(width,height); paper.attr({style:'display:block; margin:auto'}) Snap('#example').append(paper) var proj = Matrix.identity() // create a master group to switch to cartesian coordinates var g = paper.g(); g.attr({id:'cartesian'}); g.attr({transform:'translate('+width/2+','+height/2+') scale(1,-1)'}); // draw svg border box as a rectangle var box = paper.rect(-width/2, -height/2, width, height) .attr({strokeWidth:'1px', stroke:'black', fill:'none'}) g.add(box) // Create new Point parameter var p1 = new GHPoint('Point A', 0,0,0) // Attach an SVG circle to this point var p1_svg = new GHSvg_Point(paper, 'PointA',p1, 20).toGroup(g).addClass(&quot;node&quot;) // move p1 to (100, 0, 0) p1.x = 100 p1.print() // move p1 to (100, 50, 0) p1.y = 50 p1.print() × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
